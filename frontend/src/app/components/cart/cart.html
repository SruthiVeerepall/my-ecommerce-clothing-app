<div class="cart-container">
  <div class="cart-header">
    <h1>üõçÔ∏è Your Shopping Cart</h1>
    <button class="btn-back" (click)="goBack()">‚Üê Back to Shopping</button>
  </div>

  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading your treasures...</p>
  </div>

  <div *ngIf="!loading && cartItems.length === 0" class="empty-cart">
    <div class="empty-icon">üõí</div>
    <h2>Your cart is empty</h2>
    <p>Looks like you haven't added anything to your cart yet.</p>
    <button class="btn primary" (click)="goBack()">Start Shopping</button>
  </div>

  <div class="cart-content" *ngIf="!loading && cartItems.length > 0">
    <div class="cart-items">
      <div class="cart-item" *ngFor="let item of cartItems">
        <div class="item-image">
          <img [src]="item.product?.imageUrl" [alt]="item.product?.name" *ngIf="item.product?.imageUrl">
          <div class="placeholder-img" *ngIf="!item.product?.imageUrl">{{ item.product?.name?.charAt(0) }}</div>
        </div>
        <div class="item-details">
          <h3>{{ item.product?.name }}</h3>
          <p class="category">{{ item.product?.category }}</p>
          <div class="quantity-controls">
            <span class="qty-label">Quantity:</span>
            <span class="qty-value">{{ item.quantity }}</span>
          </div>
        </div>
        <div class="item-price-section">
          <p class="unit-price">${{ item.product?.price }} Each</p>
          <p class="subtotal-price">${{ (item.product?.price || 0) * (item.quantity || 1) }}</p>
          <button class="btn-remove" (click)="removeItem(item.id)" title="Remove item">
            üóëÔ∏è Remove
          </button>
        </div>
      </div>
    </div>

    <div class="cart-summary">
      <h2>Order Summary</h2>
      <div class="summary-details">
        <div class="summary-line">
          <span>Subtotal</span>
          <span>${{ totalAmount }}</span>
        </div>
        <div class="summary-line">
          <span>Shipping</span>
          <span class="free">FREE</span>
        </div>
        <div class="summary-line total">
          <span>Total Amount</span>
          <span>${{ totalAmount }}</span>
        </div>
      </div>
      <button class="btn-checkout" (click)="checkout()">
        Proceed to Checkout
      </button>
    </div>
  </div>
</div>
